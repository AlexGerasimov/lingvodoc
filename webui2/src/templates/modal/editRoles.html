<div class="modal-header">
    <h3 class="modal-title"></h3>
</div>

<div class="modal-body">
    <div>


        <table class="table table-bordered">
            <thead>
            <tr>
                <td></td>
                <td ng-repeat="(role, users) in roles">{{ role }}</td>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="user in userTable">
                <td>{{ user.name }}</td>
                <td ng-repeat="(role, users) in roles">
                    <input type="checkbox" ng-checked="userHasRole(user, role)"
                           ng-click="toggleRole($event, user, role)">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div>
        <h4>Add new user</h4>
        <label for="userLogin"></label>
        <input id="userLogin" class="form-control" type="text" placeholder="Search user" ng-model="searchQuery">

        <table class="table table-bordered">
            <thead>
            <tr>
                <td>User</td>
                <td>Name</td>
                <td></td>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="user in suggestedUsers">
                <td>{{ user.login }}</td>
                <td>{{ user.name }}</td>
                <td>
                    <button class="btn btn-primary" ng-click="addUser(user)">
                        <span class="glyphicon glyphicon-plus-sign"></span>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>


</div>

<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="controller.ok()">OK</button>
    <button class="btn btn-danger" type="button" ng-click="controller.cancel()">Cancel</button>
</div>