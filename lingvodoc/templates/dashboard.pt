<html>
<head metal:use-macro="load: head.pt">

</head>
<body>
<div metal:use-macro="load: nav.pt"></div>
<div class="container">
    <h3>Список словарей, к которым Вы имеете доступ</h3>
    <dl id="dictionaries_list" class="dl-horizontal">

    </dl>
    <a href="${request.route_url('create_dictionary_page')}">
        <button class="btn btn-primary">Создать новый словарь?</button>
    </a>
    <button class="btn btn-primary disabled">Произвести слияние нескольких словарей?</button>
</div>
<script>
$.ajax({
  url: "${request.route_url('own_dictionaries_list')}",
  success: function(data) {
      console.log(data);
      var dictionaries_list = data['dictionaries'];
      console.log(dictionaries_list);
      $.each(dictionaries_list, function(key, value) {
          console.log(value['name']);
        $('#dictionaries_list').append("<dt>"
                + value['name']
                + "</dt>"
                + "<dd>"
                + "<a href=" + value['edit_url'] + "> Редактировать  </a>"
                + "<a href=" + value['view_url'] + "> Показать  </a>"
                + ' &mdash; слов: '
                + value['stats']['metawords']
                + ', парадигм: '
                + value['stats']['metaparadigms']
                + "</dd>"
                );
      });

  },
  dataType: 'json'
});
</script>
<style>
    #dictionaries_list dt{
        overflow: visible;
        width: 565px !important;
        margin-right: 8px;
    }
</style>
</body>